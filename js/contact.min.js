"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");function t(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function s(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function n(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function r(e){return!/^[\+]?[0-9]{1,2}[-\s\.]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(e.value)}console.log(e),e.addEventListener("submit",(async function(l){l.preventDefault();let o=function(e){let l=0,o=document.querySelectorAll("._req");for(let e=0;e<o.length;e++){const a=o[e];s(a),a.classList.contains("_email")?n(a)&&(t(a),l++):a.classList.contains("_phone")?r(a)&&(t(a),l++):("checkbox"===a.getAttribute("type")&&!1===a.checked||""===a.value)&&(t(a),l++)}return l}(),a=new FormData(e);if(0===o){e.classList.add("_sending");let t=await fetch("sendmail.php",{method:"POST",body:a});if(t.ok){let s=await t.json();alert(s.message),formPreview.inner="",e.reset(),e.classList.remove("_sending")}else alert("An error"),e.classList.remove("_sending")}else alert("Please fill out all fields")}))}));