"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");let t=!1;function s(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function n(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function a(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function r(e){return!/^[\+]?[0-9]{1,2}[-\s\.]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(e.value)}e.addEventListener("submit",(async function(l){l.preventDefault();let o=function(e){let t=0,l=document.querySelectorAll("._req");for(let e=0;e<l.length;e++){const o=l[e];n(o),o.classList.contains("_email")?a(o)&&(s(o),t++):o.classList.contains("_phone")?r(o)&&(s(o),t++):("checkbox"===o.getAttribute("type")&&!1===o.checked||""===o.value)&&(s(o),t++)}return t}(),i=new FormData(e);const d=document.getElementById("alert");let c=document.createElement("div");if(0===o){e.classList.add("_sending");let s=await fetch("sendmail.php",{method:"POST",body:i});if(s.ok){let n=await s.json();e.reset(),e.classList.remove("_sending"),!0===d.hasChildNodes()&&(d.firstElementChild.remove(),t=!0),c.classList.add("col","ok"),c.innerHTML=`${n.message}`,d.appendChild(c)}else alert("Error: Google stopped supporting third-party apps and devices. So the feature gonna be updated. Use another way to contact me."),e.classList.remove("_sending"),d.firstElementChild.remove()}else!0===d.hasChildNodes()&&(d.firstElementChild.remove(),t=!0),c.classList.add("col","alert"),c.innerHTML="Please fill out the highlighted fields!",!1===t||(c.innerHTML="Ah... Put checkbox mark back",c.classList.add("dumby")),d.appendChild(c)}))}));